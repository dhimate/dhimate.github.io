<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1">
<script src=/js/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0,theme:'neutral',securityLevel:'loose'})</script>
<link rel=preconnect href=https://fonts.googleapis.com>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel=stylesheet>
<title>Automated Testing of Webmethods Services with REST Assured</title>
<link rel=stylesheet href=/css/hugo-octopress.css>
<link rel=stylesheet href=/css/fork-awesome.min.css>
<link href=https://www.dhimate.com/favicon.png rel=icon>
<meta name=description content>
<meta name=keywords content="[Yogesh Dhimate dhimate MuleSoft]">
<meta name=author content="Yogesh Dhimate">
<meta name=generator content="Hugo 0.90.0">
</head>
<body>
<header role=banner>
<hgroup>
<h1><a href=https://www.dhimate.com/>Yogesh Dhimate</a></h1>
<h2>Notes to Myself</h2>
</hgroup></header>
<nav role=navigation>
<fieldset class=mobile-nav>
<select onchange="location=this.value"><option value>Navigate…</option><option value=https://www.dhimate.com/about/>» About Me!</option><option value=https://www.dhimate.com/r%C3%A9sum%C3%A9/>» Résumé</option><option value=https://www.dhimate.com/blog/>» Blog</option><option value=https://www.dhimate.com/books/>» Bookshelf</option></select>
</fieldset>
<ul class=main-navigation>
<li><a href=https://www.dhimate.com/about/ title="About Me!" rel="noopener noreferrer">About Me!</a></li>
<li><a href=https://www.dhimate.com/r%C3%A9sum%C3%A9/ title=Résumé rel="noopener noreferrer">Résumé</a></li>
<li><a href=https://www.dhimate.com/blog/ title=Blog rel="noopener noreferrer">Blog</a></li>
<li><a href=https://www.dhimate.com/books/ title=Bookshelf rel="noopener noreferrer">Bookshelf</a></li>
</ul>
<ul class=subscription>
<a href=https://www.dhimate.com/index.xml target=_blank type=application/rss+xml title=RSS rel="noopener noreferrer"><i class="fa fa-rss-square fa-lg"></i></a>
</ul>
<form action=https://www.google.com/search method=get target=_blank rel="noopener noreferrer">
<fieldset role=search>
<input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://www.dhimate.com/>
</fieldset>
</form>
</nav>
<div id=main>
<div id=content>
<div>
<article class=hentry role=article>
<header>
<p class=meta>Sep 24, 2017
- 3 minute read
- <a class=label href=https://www.dhimate.com/categories/programming/>Programming </a>
</p>
<h1 class=entry-title>
Automated Testing of Webmethods Services with REST Assured
</h1>
</header>
<div class=entry-content>
<nav id=TableOfContents></nav>
<p>While testing REST APIs for one of my projects, I found REST Assured. It was perfect, as it took care of low level HTTP calls under the hood, and provided a high-level, easy to use framework to write tests. Not only REST Assured works really well to test webMethods flow services, you can also run these tests as part of Continuous Integration process through Gradle.</p>
<p>You will need following things on your machine. Make sure these are working without any issues.</p>
<ul>
<li>Java JDK 1.8 (<a href=http://www.oracle.com/technetwork/java/javase/downloads/index.html>link</a>). Set JAVA_HOME. And add JAVA_HOME to your PATH</li>
<li>IntelliJ IDEA (<a href=http://www.jetbrains.com/idea/download/>link</a>)</li>
</ul>
<p>We will write automated tests for a simple flow service that adds two numbers.</p>
<p><img src=/img/2017/Flow_Service.gif alt=Flow_Service></p>
<p>Follow following steps to create automated tests.</p>
<ul>
<li>
<p>Open IntelliJ IDEA and create a new project</p>
<p><img src=/img/2017/Create_Project.gif alt=Create_Project></p>
</li>
<li>
<p>Add following lines in your build.gradle file</p>
</li>
</ul>
<figure class=code>
<figcaption>
<span></span>
</figcaption>
<div class=codewrapper>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>dependencies <span style=color:#f92672>{</span>
    testCompile group<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>junit<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> name<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>junit<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> version<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>4<span style=color:#f92672>.</span><span style=color:#a6e22e>12</span><span style=color:#960050;background-color:#1e0010>&#39;</span>
    testCompile group<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>org<span style=color:#f92672>.</span><span style=color:#a6e22e>hamcrest</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> name<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>hamcrest<span style=color:#f92672>-</span>library<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> version<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>1<span style=color:#f92672>.</span><span style=color:#a6e22e>3</span><span style=color:#960050;background-color:#1e0010>&#39;</span>
    testCompile group<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>org<span style=color:#f92672>.</span><span style=color:#a6e22e>hamcrest</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> name<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>hamcrest<span style=color:#f92672>-</span>core<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>,</span> version<span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>1<span style=color:#f92672>.</span><span style=color:#a6e22e>3</span><span style=color:#960050;background-color:#1e0010>&#39;</span>
    testCompile <span style=color:#960050;background-color:#1e0010>&#39;</span>io<span style=color:#f92672>.</span><span style=color:#a6e22e>rest</span><span style=color:#f92672>-</span>assured<span style=color:#f92672>:</span>rest<span style=color:#f92672>-</span>assured<span style=color:#f92672>:</span>3<span style=color:#f92672>.</span><span style=color:#a6e22e>0</span><span style=color:#f92672>.</span><span style=color:#a6e22e>3</span><span style=color:#960050;background-color:#1e0010>&#39;</span>
<span style=color:#f92672>}</span>

task <span style=color:#a6e22e>wrapper</span><span style=color:#f92672>(</span>type<span style=color:#f92672>:</span> Wrapper<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    gradleVersion <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>2<span style=color:#f92672>.</span><span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>&#39;</span> <span style=color:#75715e>//version required
</span><span style=color:#75715e></span><span style=color:#f92672>}</span> </code></pre></td></tr></table>
</div>
</div>
</div>
</figure>
<p><img src=/img/2017/Update_BuildGradle.gif alt=Update_BuildGradle></p>
<ul>
<li>
<p>Create new package for our test cases</p>
<p><img src=/img/2017/Create_Package.gif alt=Create_Package></p>
</li>
<li>
<p>Create new Java class for our tests.</p>
</li>
</ul>
<figure class=code>
<figcaption>
<span></span>
</figcaption>
<div class=codewrapper>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> com.dhimate.wm<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> org.junit.Before<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.junit.Test<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> io.restassured.RestAssured<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> io.restassured.response.Response<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> java.util.HashMap<span style=color:#f92672>;</span>
<span style=color:#f92672>import static</span> io.restassured.RestAssured.given<span style=color:#f92672>;</span>
<span style=color:#f92672>import static</span> io.restassured.RestAssured.basic<span style=color:#f92672>;</span>
<span style=color:#f92672>import static</span> org.hamcrest.MatcherAssert.assertThat<span style=color:#f92672>;</span>
<span style=color:#f92672>import static</span> org.hamcrest.Matchers.equalTo<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AddNumbersTest</span> <span style=color:#f92672>{</span>

	<span style=color:#a6e22e>@Before</span>
	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setUp</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> Exception <span style=color:#f92672>{</span>
		RestAssured<span style=color:#f92672>.</span><span style=color:#a6e22e>baseURI</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://localhost:5555/invoke&#34;</span><span style=color:#f92672>;</span>
		RestAssured<span style=color:#f92672>.</span><span style=color:#a6e22e>authentication</span> <span style=color:#f92672>=</span> basic<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Administrator&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;manage&#34;</span><span style=color:#f92672>);</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Test</span>
	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>AddNumbersTestSuccess</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
		String requestBody <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;{&#34;</span> <span style=color:#f92672>+</span>
                    <span style=color:#e6db74>&#34;\&#34;num1\&#34;:\&#34;10\&#34;,&#34;</span> <span style=color:#f92672>+</span>
                    <span style=color:#e6db74>&#34;\&#34;num2\&#34;:\&#34;20\&#34;&#34;</span> <span style=color:#f92672>+</span>
                    <span style=color:#e6db74>&#34;}&#34;</span><span style=color:#f92672>;</span>

		Response response <span style=color:#f92672>=</span> given<span style=color:#f92672>().</span>
                	header<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Content-Type&#34;</span><span style=color:#f92672>,</span><span style=color:#e6db74>&#34;application/json&#34;</span><span style=color:#f92672>).</span>
	                body<span style=color:#f92672>(</span>requestBody<span style=color:#f92672>).</span>
       			put<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Yogesh.flow/addNumbers&#34;</span><span style=color:#f92672>);</span>

        		response<span style=color:#f92672>.</span><span style=color:#a6e22e>getBody</span><span style=color:#f92672>().</span><span style=color:#a6e22e>prettyPrint</span><span style=color:#f92672>();</span>

        		HashMap responseBody <span style=color:#f92672>=</span> response<span style=color:#f92672>.</span><span style=color:#a6e22e>jsonPath</span><span style=color:#f92672>().</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>);</span>

        		assertThat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;status code&#34;</span><span style=color:#f92672>,</span> response<span style=color:#f92672>.</span><span style=color:#a6e22e>getStatusCode</span><span style=color:#f92672>(),</span> equalTo<span style=color:#f92672>(</span>200<span style=color:#f92672>));</span>
        		assertThat<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;sum&#34;</span><span style=color:#f92672>,</span> responseBody<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;sum&#34;</span><span style=color:#f92672>),</span> equalTo<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;30&#34;</span><span style=color:#f92672>));</span>
    	<span style=color:#f92672>}</span>
<span style=color:#f92672>}</span></code></pre></td></tr></table>
</div>
</div>
</div>
</figure>
<p>Here we are just taking advantage of Integration Server&rsquo;s built in content handler for Content Type - &lsquo;application/json&rsquo;. For the flow service available on Integration Server, we can simply pass JSON request using REST Assured framework. Integration Server will take care of converting this to IDoc and subsequently process it to return a JSON response back to your test case.</p>
<ul>
<li>Run the tests using Gradle wrapper</li>
</ul>
<p>Gradle wrapper provides a convenient and easy to use CLI to run your tests. Using Gradle wrapper you can quickly associate your REST Assured tests with your Continuous Integration process.</p>
<p><img src=/img/2017/Gradle_Wrapper.gif alt=Gradle_Wrapper></p>
<p>Good thing about using REST Assured and Hamcrest to test your webMethods flow services is, it is completely FREE. You don&rsquo;t need to buy an expensive automated testing solution to test your flow services.</p>
<p>Further resources to read</p>
<ol>
<li>REST Assured has comprehensive <a href=https://github.com/rest-assured/rest-assured/wiki/GettingStarted>documentation</a> available to get you started.</li>
<li>Excellent tutorial on <a href=http://www.vogella.com/tutorials/Gradle/article.html>Gradle</a> and <a href=http://www.vogella.com/tutorials/Hamcrest/article.html>Hamcrest</a> by Vogella.</li>
</ol>
</div>
<footer>
<p class=meta>
<span class="byline author vcard">Posted by <span class=fn>Yogesh Dhimate</span></span>
<time>Sep 24, 2017</time>
<span class=categories>
Tags:
<a class=category href=https://www.dhimate.com/tags/webmethods>webMethods</a>
</span>
</p>
<p class=meta>
<a class="basic-alignment left" href=https://www.dhimate.com/2016/using-web-services-client-adapter-in-apama/ title="Using Web Services Client adapter in Apama">Using Web Services Client adapter in Apama</a>
<a class="basic-alignment right" href=https://www.dhimate.com/2017/google-spreadsheets-and-arrayformula-for-xirr-calculation/ title="Google Spreadsheets and ArrayFormula for XIRR Calculation">Google Spreadsheets and ArrayFormula for XIRR Calculation</a>
</p>
</footer>
</article>
</div>
<aside class="sidebar thirds">
<section class="first odd">
<h1>Who am I?</h1>
<p>
I’m Yogesh Dhimate. This is my personal website.
All opinions expressed here are my own.
Click on <a href=/about>About</a> to know more.
</p>
</section>
<ul class=sidebar-nav>
<li class=sidebar-nav-item>
<a target=_blank rel="noopener noreferrer" href=https://github.com/dhimate/ title=https://github.com/dhimate/><i class="fa fa-github fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://twitter.com/ydhimate/ title=https://twitter.com/ydhimate/><i class="fa fa-twitter fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/dhimate title=https://www.linkedin.com/in/dhimate><i class="fa fa-linkedin fa-3x"></i></a>
</li>
</ul>
<section class=odd>
<h1>Collections</h1>
<li>
<a href=https://www.dhimate.com/categories/programming/ title=Programming>Programming</a>
</li>
<li>
<a href=https://www.dhimate.com/tags/mulesoft/ title=MuleSoft>MuleSoft</a>
</li>
<li>
<a href=https://www.dhimate.com/categories/personal/ title=Personal>Personal</a>
</li>
</section>
<section class=even>
<h1>Recent Posts</h1>
<ul id=recent_posts>
<li class=post>
<a href=/2021/facebook-annoyance/>Facebook Annoyance</a>
</li>
<li class=post>
<a href=/2021/making-clay-ganesha-at-home/>Making Clay Ganesha At Home</a>
</li>
<li class=post>
<a href=/2021/thinking-in-bets/>Thinking in Bets</a>
</li>
<li class=post>
<a href=/2021/oci-application/>OCI Application Experience</a>
</li>
<li class=post>
<a href=/2021/understanding-smart-on-fhir/>Understanding SMART on FHIR</a>
</li>
<li class=post>
<a href=/2021/about-thanks-for-the-feedback/>About Thanks for the Feedback</a>
</li>
</ul>
</section>
</aside>
</div>
</div>
<footer role=contentinfo>
<p>Copyright &copy; 2021 Yogesh Dhimate - <a href=https://www.dhimate.com/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.
</p>
</footer>
</body>
</html>